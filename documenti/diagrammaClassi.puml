@startuml DiagrammaDelleClassi
skinparam linetype ortho
left to right direction

class Contact {
    - String name 
    - String surname 
    - String[] numbers
    - String[] emails
    - byte[] profilePicture
    - Set<String> tags

    + Contact(String name, String surname)
    + String getName()
    + void setName(String name)
    + String getSurname()
    + void setSurname(String surname)
    + String[] getNumbers()
    + void setNumbers(String[] numbers)
    + String[] getEmails()
    + void setEmails(String[] emails)
    + byte[] getProfilePicture()
    + void setProfilePicture(byte[] profilePicture)
    + Set<String> getTags()
    + void setTags(Set<String> tags)
    + boolean equals(Object o)
    
}
class AddressBook {
    - ObservableList<Contact> contacts
    - ObservableSet<String> tags
    - static AddressBook instance
    - String dbUrl 
    - AddressBook()
    + ObservableList<Contact> getContacts()
    + void addContact(Contact c)
    + Contact removeContact(Contact c)
    + ObservableSet<String> getTags()
    + void addTag(String tag)
    + String removeTag(String tag)
    + static AddressBook getInstance()
    + void setDbUrl(String dbUrl)
    + String getDbUrl()
    + void saveOBJ(String filename)
    + static AddressBook loadOBJ(String filename)
    + void saveSuDB()
    + static AddressBook loadDaDB()
    
}

interface Serializable

Contact ..|> Serializable
AddressBook ..|> Serializable
AddressBook "1" o-- "0..*" Contact

class MainController {
    - AddressBook addressBook
    - Button deleteButton
    - Button saveButton
    - Button editButton
    - Button cancelButton
    - VBox tagVBox
    - VBox lettersVBox
    - TextField searchField
    - TextField nameField
    - TextField surnameField
    - TextField emailField
    - TextField numberField
    - ImageView profileImageView
    - ImageView filterImage
    - ListView<Contact> contactsListView
    - AnchorPane contactDetailsPane
    - GridPane numbersPane
    - GridPane emailsPane
    + void initialize(URL location, ResourceBundle resources)
    - void showImportPopup(ActionEvent event)
    - void showExportPopup(ActionEvent event)
    - void showConfigPopup(ActionEvent event)
    - void showImagePopup(ActionEvent event)
    - void showManageTagsPopup(ActionEvent event)
    - void onAddButtonPressed(ActionEvent event)
    - void onContactClicked(MouseEvent event)
    - void onSaveContact(ActionEvent event)
    - void onModifyContact(ActionEvent event)
    - void onRemoveContact(ActionEvent event)
    - void onCancelContact(ActionEvent event)
}


interface Initializable
MainController ..|> Initializable
MainController "1" o-- "1" AddressBook : manages

class ImportPopupController {
    - AddressBook addressBook
    - Button importButton
    + void initialize(URL location, ResourceBundle resources)
    - void selectFile(ActionEvent event)
    - void onImportButtonPressed(ActionEvent event)
    - boolean checkCSVFormat()
    - boolean checkVCardFormat()
}

ImportPopupController ..|> Initializable
ImportPopupController "1" o-- "1" AddressBook:uses
@enduml